# //INFO: Specialized Coolify compose with multi-node workaround
# //NOTE: Coolify does not support 'replicas', so we define 3 separate services
services:
  naira-scraper-1: &scraper_node
    build: .
    volumes:
      - nairaland_data:/app/data
    environment:
      - PYTHONUNBUFFERED=1
    networks:
      - coolify
    restart: always

  naira-scraper-2:
    <<: *scraper_node

  naira-scraper-3:
    <<: *scraper_node

  naira-scraper-4:
    <<: *scraper_node

  naira-scraper-5:
    <<: *scraper_node

volumes:
  nairaland_data:

networks:
  coolify:
    external: true
